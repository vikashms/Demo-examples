<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Demo</title>
    <script type="text/javascript">
        var Training = {};
        ScrollBy = [];
    </script>
    <script src="common/jquery/js/jquery-1.7.1.min.js"></script>
    <script src="common/underscore/underscore.js"></script>
    <script src="common/backbone/backbone.js"></script>
    <link href="common/bootstrap/css/bootstrap.css" rel="stylesheet" />
    <script src="common/bootstrap/js/bootstrap.js"></script>
    <script src="common/paper/paper.js"></script>
    <style type="text/css">
        .label-container {
            position: relative;
            top: -48px;
            left: 61px;
            width: 400px;
        }
        #exapmle-paper-js {
            width: 397px;
            height: 373px;
        }
        .x-label-holder {
            margin-left: 8px;
        }
    </style>
    <script type="text/javascript">
        function getRandomColor() {
            var letters = '0123456789ABCDEF'.split('');
            var color = '#';
            for (var i = 0; i < 6; i++) {
                color += letters[Math.round(Math.random() * 15)];
            }
            return color;
        }
        paper.install(window);
        function rectangle() {
            var size = Math.floor(Math.random() * 100) + 20;
            var x = Math.floor(Math.random() * 200) + 30,
                y = Math.floor(Math.random() * 400) + 1;
            var rectangle = new Path.Rectangle({
                point: [x, y],
                size: [size, size]
            });
            rectangle.fillColor = getRandomColor();
        }
        function Circle() {
            
        }
    </script>
   <script type="text/paperscript" canvas="paperCanvas" id="paperscope-2">
        var counter = 0,
            startSign = false,
       scroll = {
            x:paper.view.center._x,
            y:paper.view.center._y
       };
       var path = new Path({
            strokeColor:'black',
            strokeWidth:4
       });
       function onMouseUp(event) {
            console.log(event.point);
            if (IsDrag == true) {
                var deltax = startPoint.x - event.point.x;
                var deltay = startPoint.y - event.point.y;
                paper.view.scrollBy(deltax, deltay);
                console.log(deltax)
                // reset
                IsDrag = false;
                window.document.body.style.cursor = 'default';
            }

        }
        function onMouseDrag(event) {
            
            if (event.tool._count == 1) {
       console.log(event.point);           
               window.document.body.style.cursor = 'pointer';                
               IsDrag = true;
            }
        }
        function onMouseDown(event) {
               startPoint = event.point;
             //   Circle();
              //  counter ++;
        }
       function onFrame(event) {
             /*   // On each frame, rotate the path by 3 degrees:
                var x = Math.floor(Math.random() * 200) + 30,
                    y = Math.floor(Math.random() * 200) + 1;
                
                //path.translate(x, y);
                /////for (var i = 0; i < counter; i++) {
                    
                    var item = project.activeLayer.children[i],
                        rotate = Math.floor(Math.random() * 10) + 1;
                    item.fillColor.hue += 1;
                    item.position.x += item.bounds.width / 20;
                    item.rotate(rotate);
                    if (item.bounds.left > view.size.width) {
                        item.position.x = -item.bounds.width;
                   //// }
               //// }*/
             }
   </script>
    <script type="text/javascript">


        var onPageLoad = function () {
            
            // Get a reference to the canvas object
             var canvas = $('#paperCanvas')[0];
            // Create an empty project and a view for the canvas:
             paper.setup('paperCanvas');
             rectangle();
             rectangle();
             rectangle();
             rectangle();

        }
        var zoomIn = function (event) {
            paper.view.zoom = paper.view.zoom + 0.25;
        }
        var zoomReset = function (event) {
            var x = paper.view.center._x - scroll.x,
                y = paper.view.center._y - scroll.y;
                paper.view.scrollBy(x,y);
           
            paper.view.zoom = 1;
            scrollBy = [];
        }
    </script>
    <script type="text/javascript">
        
</script>
</head>

<body onload="onPageLoad()">
    <canvas id="paperCanvas" height="500" width="1000"></canvas>
    <button onclick="zoomIn()">Zoom IN</button>
    <button onclick="zoomReset()">Zoom Reset</button>
</body>
</html>
